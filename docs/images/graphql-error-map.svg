<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 540" width="960" height="540">
  <style>
    .title { font: 700 28px 'DejaVu Sans', sans-serif; fill: #1f2933; }
    .label { font: 600 20px 'DejaVu Sans', sans-serif; fill: #111; }
    .text { font: 16px 'DejaVu Sans', sans-serif; fill: #1f2933; }
    .box { stroke: #1f2933; stroke-width: 2; }
    .arrow { stroke: #111; stroke-width: 3; fill: none; }
  </style>
  <rect width="960" height="540" fill="white" />
  <text x="30" y="45" class="title">GraphQL Error Map</text>

  <rect x="60" y="120" width="200" height="80" fill="#e0f2fe" class="box" />
  <text x="110" y="168" class="label">Client</text>

  <rect x="360" y="120" width="200" height="80" fill="#e8f5e9" class="box" />
  <text x="400" y="168" class="label">Resolver</text>

  <rect x="660" y="120" width="200" height="80" fill="#fff7e6" class="box" />
  <text x="705" y="168" class="label">Filter</text>

  <rect x="360" y="320" width="200" height="80" fill="#fcefee" class="box" />
  <text x="410" y="368" class="label">Logger</text>

  <line x1="260" y1="160" x2="360" y2="160" class="arrow" />
  <polygon points="360,160 350,155 350,165" fill="#111" />
  <text x="270" y="140" class="text">GraphQL Request</text>

  <line x1="560" y1="160" x2="660" y2="160" class="arrow" />
  <polygon points="660,160 650,155 650,165" fill="#111" />
  <text x="580" y="140" class="text">throw AppError</text>

  <path d="M760 200 L760 320 L160 320 L160 200" class="arrow" />
  <polygon points="160,200 155,210 165,210" fill="#111" />
  <text x="400" y="340" class="text">GraphQL Response (extensions)</text>

  <path d="M760 200 L760 360 L560 360" class="arrow" />
  <polygon points="560,360 570,355 570,365" fill="#111" />
  <text x="620" y="380" class="text">requestId付きで出力</text>

  <text x="30" y="430" class="text">Error Categories: AUTH / PERMISSION / VALIDATION / NOT_FOUND / CONFLICT / INTERNAL</text>
  <text x="30" y="460" class="text">extensions = { code, httpStatus, reason, userMessage, requestId, details }</text>
</svg>
