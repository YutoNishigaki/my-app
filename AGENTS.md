# リポジトリガイドライン

日本語で簡潔かつ丁寧に回答するようにしてください

## プロジェクト構成・モジュール整理

- テストは対象コードと同じ場所に `*.test.ts` / `*.test.js` として置く
- 使い回すスクリプトは `scripts/`、静的アセットは `assets/` に置く
- クリーンアーキテクチャの考えに基づき依存の方向は一定とする

## ビルド・テスト・開発コマンド

- 依存関係インストール: `npm install`
- ローカル開発サーバー: `npm run dev`
- 本番ビルド: `npm run build`
- ユニットテスト: `npm test`
- Lint / フォーマット: `npm run lint` と `npm run format`
- 同一ブランチ内でパッケージマネージャーを混在させない

## コーディングスタイル・命名規則

- リンターとフォーマッターのルールに従う
- 新規モジュール追加時は可能な限り TypeScript を利用し、型は使用箇所の近くに置く
- ファイル名はモジュール/ユーティリティで `kebab-case`、React/Vue コンポーネントで `PascalCase`、環境変数は `SCREAMING_SNAKE_CASE`
- 関数は小さく保ち、未使用のユーティリティはエクスポートしない挙動が直感的でない場合は簡潔にコメントする
- プッシュ前にリンター/フォーマッターを実行する

## テスト指針

- Vitest や Jest など高速なランナーを使用し、既定の選択に合わせる
- テスト名は `*.test.ts` / `*.test.js`
- 新規コードはカバレッジ 80% 以上を目標にし、エッジケースとエラーパスも含める
- 疎結合なモックを用い、実サービスへの直接アクセスは避ける

## コミット・PR 指針

- 件名は明瞭な現在形で Conventional Commits（`feat:`, `fix:`, `chore:`, `docs:` など）推奨
- コミットは範囲を絞り、リバーシブルにリファクタと機能追加を混ぜない
- PR には概要、UI 変更のスクリーンショット、関連 issue、簡潔なテスト計画（`npm test`、`npm run lint`、手動手順）を記載する
- スコープが大きい場合は早めにレビューを依頼し、破壊的変更は明示する

## セキュリティ・設定の注意

- シークレットはコミットしない実行時設定は `.env` に、プレースホルダーは `.env.example` に置く
- 共有したトークンはローテーションし、ハードコードではなく環境変数を優先する
- 依存追加時はマージ前に `npm audit`（等価ツールでも可）で確認する
